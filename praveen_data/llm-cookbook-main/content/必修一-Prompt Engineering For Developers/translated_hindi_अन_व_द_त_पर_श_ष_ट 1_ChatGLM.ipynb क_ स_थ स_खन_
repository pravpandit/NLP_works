{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "b46a7a6a-3182-421d-a208-f45eafd1c4ad",
   "metadata": {
    "tags": []
   },
   "source": [
    "# рдкрд░рд┐рд╢рд┐рд╖реНрдЯ 1 рдЪреИрдЯрдЬреАрдкреАрдЯреА рдФрд░ рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдХреЗ рдмреАрдЪ рддреБрд▓рдирд╛\n",
    "\n",
    "рдХрдИ рдмрдбрд╝реЗ рдШрд░реЗрд▓реВ рдореЙрдбрд▓ рд╣реИрдВ, рдЬреИрд╕реЗ рд╡реЗрдирдХреНрд╕рд┐рди рдпрд┐рдпрд╛рди, рдЯреЛрдВрдЧрдпреА рдХрд┐рдпрд╛рдирд╡реЗрди, рдЬрд╝рд┐рдВрдЧрд╣реБрдУ, рдПрдордУрдПрд╕рдПрд╕ рдФрд░ рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдЗрддреНрдпрд╛рджрд┐, рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рдПрдордУрдПрд╕рдПрд╕ рдФрд░ рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдХреЛ рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рддреИрдирд╛рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдУрдкрди рдПрдкреАрдЖрдИ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЕрдзрд┐рдХ рдЬреАрдкреАрдпреВ рдореЗрдореЛрд░реА рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ (рдЗрд╕рдХреЗ рд▓рд┐рдП ```80 рдЬреАрдмреА рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ ``` рдкрд░рд┐рдорд╛рдгреАрдХрд░рдг рдХреЗ рдмрд┐рдирд╛, рдФрд░ рд╕рдВрд╡рд╛рдж рдХреЗ рдХрдИ рджреМрд░ рдЕрднреА рднреА рдореЗрдореЛрд░реА рдХреЛ рддреЛрдбрд╝ рджреЗрдВрдЧреЗ), рд▓реЗрдХрд┐рди рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдХреЛ рд▓реИрдкрдЯреЙрдк рдкрд░ рддреИрдирд╛рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (```int4``` рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рдХреЗрд╡рд▓ ```6GB``` рд╡реАрдбрд┐рдпреЛ рдореЗрдореЛрд░реА рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ)ред рдЖрд▓реЗрдЦ рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдФрд░ рдЪреИрдЯрдЬреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИрдШрд░реЗрд▓реВ рдореЙрдбрд▓реЛрдВ рдХреЗ рдлрд╛рдпрджреЗ рдФрд░ рдиреБрдХрд╕рд╛рди рдХреА рддреБрд▓рдирд╛ рдХрд░рдиреЗ рдФрд░ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдкреАрдЯреАред\n",
    "\n",
    "рдпрд╣ рд▓реЗрдЦ рддреБрд▓рдирд╛ рдХреЗ рд▓рд┐рдП рдЗрд╕ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рдкрд╣рд▓реБрдУрдВ рдХрд╛ рдЪрдпрди рдХрд░реЗрдЧрд╛, рдФрд░ рдЕрдВрдд рдореЗрдВ рдЪреИрдЯрдЬреАрдкреАрдЯреА рдФрд░ рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдХреЗ рдлрд╛рдпрджреЗ рдФрд░ рдиреБрдХрд╕рд╛рди рдХрд╛ рд╕рд╛рд░рд╛рдВрд╢ рджреЗрдЧрд╛ред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрд╣ рд▓реЗрдЦ рдЙрди рдкрд╛рдардХреЛрдВ рдХреЗ рд▓рд┐рдП рднреА рдЙрдкрдпреБрдХреНрдд рд╣реИ рдЬрд┐рдирдХреЗ рдкрд╛рд╕ ```` рдЪреИрдЯрдЬреАрдПрд▓рдПрдо- рддреИрдирд╛рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдУрдкрдирдПрдЖрдИ рдПрдкреАрдЖрдИ рдХреБрдВрдЬреА рдирд╣реАрдВ рд╣реИред 6рдмреА ```, рдЖрдк рдмрд╛рдж рдореЗрдВ рдкреЗрд╢ рдХрд┐рдП рдЧрдП рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рднреА рдкреВрд░рд╛ рдкрд╛рдареНрдпрдХреНрд░рдо рд╕реАрдЦ рд╕рдХрддреЗ рд╣реИрдВред"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "f5debf6b",
   "metadata": {},
   "source": [
    "<div class='toc'>\n",
    "<рдЙрд▓ рдХреНрд▓рд╛рд╕='рдЯреЛрдХ-рдЖрдЗрдЯрдо'>\n",
    "<li><span><a href='#1 рдкрд░реНрдпрд╛рд╡рд░рдг рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди' data-toc-modified-id='1. рдкрд░реНрдпрд╛рд╡рд░рдг рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди'>1. рдкрд░реНрдпрд╛рд╡рд░рдг рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди</a></span></li>\n",
    "<li><span><a href='#2 рдЯреЗрдХреНрд╕реНрдЯ рдХреЙрдореНрдкреНрд░рд┐рд╣реЗрдВрд╢рди' data-toc-modified-id='2. рдЯреЗрдХреНрд╕реНрдЯ рдХреЙрдореНрдкреНрд░рд┐рд╣реЗрдВрд╢рди'>2. рдЯреЗрдХреНрд╕реНрдЯ рдХреЙрдореНрдкреНрд░рд┐рд╣реЗрдВрд╢рди</a></span></li>\n",
    "<li><span><a href='#3 рд╕рдВрд░рдЪрд┐рдд рдЖрдЙрдЯрдкреБрдЯ' data-toc-modified-id='3. рд╕рдВрд░рдЪрд┐рдд рдЖрдЙрдЯрдкреБрдЯ'>3\n",
    "<li><span><a href='#4 рдЕрдиреБрд╡рд╛рдж рдФрд░ рд░реВрдкрд╛рдВрддрд░рдг' рдбреЗрдЯрд╛-рдЯреЛрдХ-рд╕рдВрд╢реЛрдзрд┐рдд-id='4. рдЕрдиреБрд╡рд╛рдж рдФрд░ рд░реВрдкрд╛рдВрддрд░рдг'>4. рдЕрдиреБрд╡рд╛рдж рдФрд░ рд░реВрдкрд╛рдВрддрд░рдг</a></span></li>\n",
    "<li><span><a href='#5 рддрд╛рд░реНрдХрд┐рдХ рддрд░реНрдХ' data-toc-modified-id='5. рддрд╛рд░реНрдХрд┐рдХ рддрд░реНрдХ'>5. рддрд╛рд░реНрдХрд┐рдХ рддрд░реНрдХ</a></span></li>\n",
    "</div>"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "9be808ea-5284-4399-b832-5205c2745d13",
   "metadata": {},
   "source": [
    "## 1. рдкрд░реНрдпрд╛рд╡рд░рдг рд╡рд┐рдиреНрдпрд╛рд╕"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "1553056f",
   "metadata": {},
   "source": [
    "### 1.1 рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдкрд░реНрдпрд╛рд╡рд░рдг рд╡рд┐рдиреНрдпрд╛рд╕"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "7fbd3834-1cf9-47d5-a94f-351d3645e0f6",
   "metadata": {},
   "source": [
    "&emsp;&emsp;рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рд╡рд╛рддрд╛рд╡рд░рдг рдХреЗ рд╡рд┐рдиреНрдпрд╛рд╕ рдХреЗ рд▓рд┐рдП, рдХреГрдкрдпрд╛ рдбреЗрдЯрд╛рд╡реНрд╣реЗрд▓ рдХреЗ рдЗрд╕ рд▓реЗрдЦ рдХреЛ рджреЗрдЦреЗрдВ: [рдЪреИрдЯрдЬреАрдПрд▓рдПрдо-6рдмреА рд╕реНрдерд╛рдиреАрдп рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдЧрд╛рдЗрдб ](https://mp.weixin.qq.com/s/545Z4DTB78q_sLqBq6dC1A)\n",
    "\n",
    "&emsp;&emsp;рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдХреЗ рдмрд╛рдж, рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ `api.py` рдлрд╝рд╛рдЗрд▓ рдЪрд▓рд╛рдПрдБред рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд ChatGPT рдХреЗ рд╕рдорд╛рди рдПрдХ `get_completion` рдлрд╝рдВрдХреНрд╢рди рд╣реИ рдЬреЛ ChatGLM рдХреЗ рдПрдкреАрдЖрдИ рдПрдирдХреИрдкреНрд╕реБрд▓реЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред рдЖрдкрдХреЛ рдХреЗрд╡рд▓ рдкреНрд░реЙрдореНрдкреНрдЯ рдкреИрд░рд╛рдореАрдЯрд░ рдореЗрдВ рдкрд╛рд╕ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "84a6ab28-e60a-4a67-bbde-4062cc844894",
   "metadata": {},
   "outputs": [],
   "source": [
    "import requests\n",
    "import json"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "0fe69c47-ccc4-47db-a0f5-21e273b35fcb",
   "metadata": {},
   "source": [
    "рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ OpenAI рдХреБрдВрдЬреА рдирд╣реАрдВ рд╣реИ, рддреЛ ChatGLM-6B рдХреЛ рддреИрдирд╛рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рдкреВрд░реЗ рдкрд╛рдареНрдпрдХреНрд░рдо рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рднреА рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ!"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "37dfda9c-768c-4c1b-921b-d5e2e03f8663",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'ф╜ахе╜ЁЯСЛ!цИСцШпф║║х╖ецЩ║шГ╜хКйцЙЛ ChatGLM-6B,х╛ИщлШхЕ┤шзБхИ░ф╜а,цмвш┐ОщЧоцИСф╗╗ф╜ХщЧощвШуАВ'"
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "def get_completion(prompt):\n",
    "    headers = {'Content-Type': 'application/json'}\n",
    "    data = {\"prompt\": prompt, \"history\": []}\n",
    "    response = requests.post(url='http://127.0.0.1:8000', headers=headers, data=json.dumps(data))\n",
    "    return response.json()['response']\n",
    "\n",
    "get_completion(\"ф╜ахе╜\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "597ca502-d339-4667-9f7c-4da30ac1f410",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'ф╜ахе╜ЁЯСЛ!цИСцШпф║║х╖ецЩ║шГ╜хКйцЙЛ ChatGLM-6B,х╛ИщлШхЕ┤шзБхИ░ф╜а,цмвш┐ОщЧоцИСф╗╗ф╜ХщЧощвШуАВ'"
      ]
     },
     "execution_count": 2,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "def get_completion_glm(prompt):\n",
    "    headers = {'Content-Type': 'application/json'}\n",
    "    data = {\"prompt\": prompt, \"history\": []}\n",
    "    response = requests.post(url='http://127.0.0.1:8000', headers=headers, data=json.dumps(data))\n",
    "    return response.json()['response']\n",
    "\n",
    "get_completion_glm(\"ф╜ахе╜\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "e4c608de-2293-48df-bb0e-491686e427af",
   "metadata": {},
   "source": [
    "### 1.2 рдЪреИрдЯрдЬреАрдкреАрдЯреА рдкрд░реНрдпрд╛рд╡рд░рдг рд╡рд┐рдиреНрдпрд╛рд╕"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "b262731f-870d-4810-8b63-67da58a6a7b8",
   "metadata": {},
   "source": [
    "OpenAI рдкреИрдХреЗрдЬ рдЖрдпрд╛рдд рдХрд░реЗрдВ, API рдХреБрдВрдЬреА рд▓реЛрдб рдХрд░реЗрдВ, рдФрд░ getCompletion рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░реЗрдВред\n",
    "```рдмреИрд╢\n",
    "рдкрд┐рдк рдЗрдВрд╕реНрдЯрд╛рд▓ рдУрдкрдирд╛рдИ\n",
    "```"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "dcff373b-c85d-4f64-b8eb-0042d646de96",
   "metadata": {},
   "outputs": [],
   "source": [
    "import openai\n",
    "# рддреГрддреАрдп-рдкрдХреНрд╖ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдЖрдпрд╛рдд рдХрд░реЗрдВ\n",
    "\n",
    "openai.api_key = \"sk-...\"\n",
    "# API_KEY рд╕реЗрдЯ рдХрд░реЗрдВ, рдХреГрдкрдпрд╛ рдЗрд╕реЗ рдЕрдкрдиреА API_KEY рд╕реЗ рдмрджрд▓реЗрдВ\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "2fc891b0-cebd-4235-81d6-6b1fb4cc65b4",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'ф╜ахе╜я╝БцЬЙф╗Аф╣ИцИСхПпф╗ех╕охКйф╜ачЪДхРЧя╝Я'"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "def get_completion_gpt(prompt, model=\"gpt-3.5-turbo\", temperature=0): \n",
    "    messages = [{\"role\": \"user\", \"content\": prompt}]\n",
    "    response = openai.ChatCompletion.create(\n",
    "        model=model,\n",
    "        messages=messages,\n",
    "        temperature=temperature, # хА╝ш╢Кф╜ОхИЩш╛УхЗ║цЦЗцЬмщЪПцЬ║цАзш╢Кф╜О\n",
    "    )\n",
    "    return response.choices[0].message[\"content\"]\n",
    "\n",
    "get_completion_gpt('ф╜ахе╜')"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "61f99c24",
   "metadata": {},
   "source": [
    "## 2. рдкрд╛рда рдХреА рд╕рдордЭ"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "c807a1f5-bdf2-46ab-a77f-59985374e647",
   "metadata": {
    "tags": []
   },
   "source": [
    "### 2.1 рдкрд╛рда рд╕рд╛рд░рд╛рдВрд╢ рдФрд░ рд╕рд╢рд░реНрдд рдкрд╣рдЪрд╛рди"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "b1925a9e-54d9-4f75-a625-a1698b95e268",
   "metadata": {},
   "source": [
    "#### 2.1.1 рдЪрд░рдгреЛрдВ рд╕рд╣рд┐рдд рдкрд╛рда (рдЗрдирдкреБрдЯ рд╢рд░реНрддреЛрдВ рдХреЛ рдкреВрд░рд╛ рдХрд░рддреЗ рд╣реБрдП)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "d6b1bc6e-cd39-44dd-b2a5-0f20ce53fbc4",
   "metadata": {},
   "outputs": [],
   "source": [
    "# рдЪрд░рдгреЛрдВ рдХреЗ рд╕рд╛рде рдкрд╛рда рдХрд░реЗрдВ\n",
    "text_1 = f\"\"\"\n",
    "ц│бф╕АцЭпшМ╢х╛Ихо╣цШУуАВщжЦхЕИя╝МщЬАшжБцККц░┤чГзх╝АуАВ\\\n",
    "хЬичнЙх╛ЕцЬЯщЧ┤я╝МцЛ┐ф╕Аф╕кцЭпхнРх╣╢цККшМ╢хМЕцФ╛ш┐ЫхО╗уАВ\\\n",
    "ф╕АцЧжц░┤ш╢│хдЯчГня╝Мх░▒цККхоГхАТхЬишМ╢хМЕф╕КуАВ\\\n",
    "чнЙх╛Еф╕Аф╝ЪхД┐я╝МшойшМ╢хП╢ц╡╕ц│буАВхЗахИЖщТЯхРОя╝МхПЦхЗ║шМ╢хМЕуАВ\\\n",
    "хжВцЮЬф╜ацД┐цДПя╝МхПпф╗ехКаф╕Аф║Ыч│ЦцИЦчЙЫхе╢ш░ГхС│уАВ\\\n",
    "х░▒ш┐Щца╖я╝Мф╜ахПпф╗еф║лхПЧф╕АцЭпч╛ОхС│чЪДшМ╢ф║ЖуАВ\n",
    "\"\"\"\n",
    "prompt = f\"\"\"\n",
    "цВих░ЖшО╖х╛ЧчФ▒ф╕Йф╕кх╝ХхП╖цЛмш╡╖цЭечЪДцЦЗцЬмуАВ\\\n",
    "хжВцЮЬхоГхМЕхРлф╕Ач│╗хИЧчЪДцМЗф╗дя╝МхИЩщЬАшжБцМЙчЕзф╗еф╕Лца╝х╝ПщЗНцЦ░ч╝ЦхЖЩш┐Щф║ЫцМЗф╗дя╝Ъ\n",
    "\n",
    "чммф╕Ацне - ...\n",
    "чммф║Мцне - тАж\n",
    "тАж\n",
    "чммNцне - тАж\n",
    "\n",
    "хжВцЮЬцЦЗцЬмф╕нф╕НхМЕхРлф╕Ач│╗хИЧчЪДцМЗф╗дя╝МхИЩчЫ┤цОехЖЩтАЬцЬкцПРф╛ЫцнещкдтАЭуАВ\"\n",
    "\\\"\\\"\\\"{text_1}\\\"\\\"\\\"\n",
    "\"\"\""
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "ad49ba0c-38ae-4137-bfdc-207037ea7d9c",
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "чммф╕Ацне: цККц░┤чГзх╝А\n",
      "чммф║Мцне: цККшМ╢хМЕцФ╛хЕецЭпхнРф╕н\n",
      "чммф╕Йцне: чнЙх╛Ец░┤ш╢│хдЯчГн\n",
      "чммхЫЫцне: хАТхЬишМ╢хМЕф╕К\n",
      "чммф║Фцне: чнЙх╛ЕшМ╢хП╢ц╡╕ц│б\n",
      "чммхЕнцне: хПЦхЗ║шМ╢хМЕ\n",
      "чммф╕Гцне: хжВцЮЬхЦЬцмв,хПпф╗ехКаф╕Аф║Ыч│ЦцИЦчЙЫхе╢\n",
      "чммхЕлцне: цРЕцЛМхЭЗхМА\n",
      "чммф╣Эцне: ф║лчФич╛ОхС│чЪДшМ╢\n",
      "\n",
      "цЬкцПРф╛Ыцнещкд\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_glm(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "7fd825a2",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "чммф╕Ацне - цККц░┤чГзх╝АуАВ\n",
      "чммф║Мцне - цЛ┐ф╕Аф╕кцЭпхнРх╣╢цККшМ╢хМЕцФ╛ш┐ЫхО╗уАВ\n",
      "чммф╕Йцне - цККчГнц░┤хАТхЬишМ╢хМЕф╕КуАВ\n",
      "чммхЫЫцне - чнЙх╛ЕхЗахИЖщТЯя╝МшойшМ╢хП╢ц╡╕ц│буАВ\n",
      "чммф║Фцне - хПЦхЗ║шМ╢хМЕуАВ\n",
      "чммхЕнцне - хжВцЮЬф╜ацД┐цДПя╝МхПпф╗ехКаф╕Аф║Ыч│ЦцИЦчЙЫхе╢ш░ГхС│уАВ\n",
      "чммф╕Гцне - х░▒ш┐Щца╖я╝Мф╜ахПпф╗еф║лхПЧф╕АцЭпч╛ОхС│чЪДшМ╢ф║ЖуАВ\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_gpt(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "4b43edb5-37b5-4d43-9e16-d2a9b558ef73",
   "metadata": {},
   "source": [
    "**рдзреНрдпрд╛рди рджреЗрдВ**: рдпрд╣рд╛рдВ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЧрдпрд╛ рдкрд╛рда рдЪрд░рдгреЛрдВ рд╡рд╛рд▓рд╛ рдПрдХ рдкрд╛рда рд╣реИред рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдЪрд░рдг рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдВрдд рдореЗрдВ рдХрд╣рддрд╛ рд╣реИ \"рдХреЛрдИ рдЪрд░рдг рдкреНрд░рджрд╛рди рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛\" рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЪреИрдЯрдЬреАрдкреАрдЯреА рдЪрд░рдг рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЪрд░рдг рдЕрдзрд┐рдХ рдкреВрд░реНрдг рд╣реИрдВ рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдХреА рддреБрд▓рдирд╛ рдореЗрдВ, рдФрд░ рдЙрддреНрддрд░ рд╕рд╣реА рд╣реИред"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "37727f9a",
   "metadata": {},
   "source": [
    "#### 2.1.2 рдЪрд░рдгреЛрдВ рдХреЗ рдмрд┐рдирд╛ рдкрд╛рда (рдЗрдирдкреБрдЯ рд╢рд░реНрддреЛрдВ рдХреЛ рдкреВрд░рд╛ рдирд╣реАрдВ рдХрд░рддрд╛)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "75a4b5ad",
   "metadata": {},
   "outputs": [],
   "source": [
    "# рдЪрд░рдгреЛрдВ рдХреЗ рдмрд┐рдирд╛ рдкрд╛рда\n",
    "text_2 = f\"\"\"\n",
    "ф╗КхдйщШ│хЕЙцШОхкЪя╝Мщ╕ЯхД┐хЬицнМхФ▒уАВ\\\n",
    "ш┐ЩцШпф╕Аф╕кхО╗хЕмхЫнцХгцнечЪДч╛Охе╜цЧехнРуАВ\\\n",
    "щ▓ЬшК▒чЫЫх╝Ая╝МцаСцЮЭхЬих╛ощгОф╕нш╜╗ш╜╗цСЗцЫ│уАВ\\\n",
    "ф║║ф╗мхдЦхЗ║ф║лхПЧчЭАш┐Щч╛Охе╜чЪДхдйц░Фя╝МцЬЙф║Ыф║║хЬищЗОщдРя╝МцЬЙф║Ыф║║хЬичОйц╕╕цИПцИЦшАЕхЬишНЙхЬ░ф╕КцФ╛цЭ╛уАВ\\\n",
    "ш┐ЩцШпф╕Аф╕кхоМч╛ОчЪДцЧехнРя╝МхПпф╗ехЬицИ╖хдЦх║жш┐Зх╣╢цмгш╡ПхдзшЗкчД╢чЪДч╛ОцЩпуАВ\n",
    "\"\"\"\n",
    "prompt = f\"\"\"\n",
    "цВих░ЖшО╖х╛ЧчФ▒ф╕Йф╕кх╝ХхП╖цЛмш╡╖цЭечЪДцЦЗцЬмуАВ\\\n",
    "хжВцЮЬхоГхМЕхРлф╕Ач│╗хИЧчЪДцМЗф╗дя╝МхИЩщЬАшжБцМЙчЕзф╗еф╕Лца╝х╝ПщЗНцЦ░ч╝ЦхЖЩш┐Щф║ЫцМЗф╗дя╝Ъ\n",
    "\n",
    "чммф╕Ацне - ...\n",
    "чммф║Мцне - тАж\n",
    "тАж\n",
    "чммNцне - тАж\n",
    "\n",
    "хжВцЮЬцЦЗцЬмф╕нф╕НхМЕхРлф╕Ач│╗хИЧчЪДцМЗф╗дя╝МхИЩчЫ┤цОехЖЩтАЬцЬкцПРф╛ЫцнещкдтАЭуАВ\"\n",
    "\\\"\\\"\\\"{text_2}\\\"\\\"\\\"\n",
    "\"\"\""
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "3f0d5ef3",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "чммф╕Ацне: хО╗хЕмхЫнцХгцне\n",
      "чммф║Мцне: цмгш╡Пщ▓ЬшК▒хТМцаСцЮЭ\n",
      "чммф╕Йцне: цДЯхПЧх╛ощгО\n",
      "чммхЫЫцне: цФ╛цЭ╛ш║лх┐Г\n",
      "чммф║Фцне: щЗОщдРцИЦчОйц╕╕цИП\n",
      "чммхЕнцне: цДЯхПЧхдзшЗкчД╢чЪДч╛Оф╕╜\n",
      "\n",
      "цЬкцПРф╛ЫцнещкдуАВ\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_glm(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "7a58b936",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "цЬкцПРф╛ЫцнещкдуАВ\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_gpt(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "ca4a5d02-0284-48fb-a22e-19b9d343ef65",
   "metadata": {},
   "source": [
    "**рдзреНрдпрд╛рди рджреЗрдВ:** рдПрдХ рдЪрд░рдг-рдореБрдХреНрдд рдкрд╛рда рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд▓реЗрдХрд┐рди ChatGLM рдиреЗ рдПрдХ рдЪрд░рдг рдХреЗ рд╕рд╛рде рдЙрддреНрддрд░ рджрд┐рдпрд╛ рдФрд░ рдЕрдВрдд рдореЗрдВ рдХреЛрдИ рдЪрд░рдг рдирд╣реАрдВ рдХрд╣рд╛, рдЬреЛ рд▓рдЧрднрдЧ рдЙрдкрд░реЛрдХреНрдд рдЪрд░рдг-рдЖрдзрд╛рд░рд┐рдд рдкрд╛рда рдЙрддреНрддрд░ рдХреЗ рд╕рдорд╛рди рд╣реА рд╣реИ, рдЬрд┐рд╕рдиреЗ рд╕реАрдзреЗ \"рдирд╣реАрдВ\" рдХрд╛ рдЙрддреНрддрд░ рджрд┐рдпрд╛ рдЪрд░рдг рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЧрдпрд╛\"ред"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "198f0fb0",
   "metadata": {},
   "source": [
    "### 2.2 рдкрд╛рда рдирд┐рд░рдВрддрд░рддрд╛ рдХреЗ рдХреБрдЫ рдЙрджрд╛рд╣рд░рдг рдкреНрд░рджрд╛рди рдХрд░реЗрдВ (рдХреБрдЫ-рд╢реЙрдЯ)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "7371e549",
   "metadata": {},
   "outputs": [],
   "source": [
    "prompt = f\"\"\"\n",
    "ф╜ачЪДф╗╗хКбцШпф╗еф╕АшЗ┤чЪДщгОца╝хЫЮчнФщЧощвШуАВ\n",
    "\n",
    "<хнйхнР>: цХЩцИСшАРх┐ГуАВ\n",
    "\n",
    "<чеЦчИ╢цпН>: цМЦхЗ║цЬАц╖▒х│бш░╖чЪДц▓│ц╡Бц║Рф║Оф╕АхдДф╕Нш╡╖чЬ╝чЪДц│ЙчЬ╝я╝ЫцЬАхоПф╝ЯчЪДф║дхУНф╣Рф╗ОхНХф╕АчЪДщЯ│чмжх╝АхзЛя╝ЫцЬАхдНцЭВчЪДцМВцппф╗еф╕Аца╣хндчЛмчЪДч║┐х╝АхзЛч╝Цч╗ЗуАВ\n",
    "\n",
    "<хнйхнР>: цХЩцИСщЯзцАзуАВ\n",
    "\"\"\""
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "id": "7b02cefd",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "щЯзцАзцШпф╕АчзНх╝║хдзчЪДхУБш┤и,хПпф╗ех╕охКйф║║ф╗мхЬицМСцИШф╕нф┐ЭцМБхЖ╖щЭЩхТМхЭЪщЯзуАВф╗еф╕ЛцШпф╕Аф║ЫхЯ╣хЕ╗щЯзцАзчЪДцЦ╣ц│Х:\n",
      "\n",
      "1. цОехПЧцМСцИШх╣╢хБЪхе╜хЗЖхдЗ:щЯзцАзщЬАшжБщЭвхп╣цМСцИШх╣╢хЕЛцЬНхЫ░щЪ╛уАВшжБхЯ╣хЕ╗щЯзцАз,щЬАшжБхЕИхЗЖхдЗхе╜цОехПЧцМСцИШ,х╣╢щЗЗхПЦх┐ЕшжБчЪДцОкцЦ╜цЭешзгхЖ│щЧощвШуАВ\n",
      "\n",
      "2. хнжф╝ЪцФ╛цЭ╛:х╜УцИСф╗мцДЯхИ░ч┤зх╝ахТМчДжшЩСцЧ╢,хПпшГ╜ф╝Ъхд▒хО╗щЯзцАзуАВхнжф╝ЪцФ╛цЭ╛шЗкх╖▒,хПпф╗ех╕охКйч╝УшзгхОЛхКЫхТМчДжшЩС,ф╗ОшАМцПРщлШщЯзцАзуАВ\n",
      "\n",
      "3. хЯ╣хЕ╗шЗкцИСцДПшпЖ:щЯзцАзщЬАшжБф║ЖшзгшЗкх╖▒чЪДх╝▒чВ╣хТМф╝ШчВ╣,х╣╢чзпцЮБцФ╣хЦДшЗкх╖▒уАВхнжф╝ЪхЕ│ц│ишЗкх╖▒чЪДцГЕч╗кхТМшбМф╕║,х╣╢хКкхКЫцФ╣хЦДшЗкх╖▒чЪДщЯзцАзуАВ\n",
      "\n",
      "4. хнжф╣ац▓ЯщАЪцКАх╖з:ц▓ЯщАЪцШпх╜▒хУНщЯзцАзчЪДщЗНшжБхЫач┤ауАВхнжф╣ацЬЙцХИчЪДц▓ЯщАЪцКАх╖з,хПпф╗ех╕охКйцЫ┤хе╜хЬ░шбиш╛╛шЗкх╖▒чЪДцДПшзБхТМцГ│ц│Х,хРМцЧ╢ф╣ЯхПпф╗ех╕охКйцЫ┤хе╜хЬ░чРЖшзгф╗Цф║║чЪДшзВчВ╣уАВ\n",
      "\n",
      "5. хЭЪцМБщФ╗чВ╝хТМхБех║╖щеощгЯ:щФ╗чВ╝хТМхБех║╖щеощгЯхПпф╗ех╕охКйф┐ЭцМБш║лф╜УхБех║╖хТМч▓╛чеЮхБех║╖,ф╗ОшАМцПРщлШщЯзцАзуАВ\n",
      "\n",
      "х╕МцЬЫш┐Щф║ЫцЦ╣ц│ХхПпф╗ех╕охКйхЯ╣хЕ╗щЯзцАзуАВ\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_glm(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "id": "8fc62b66",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "<чеЦчИ╢цпН>: щЯзцАзх░▒хГПцШпф╕Ацг╡цаСя╝МхоГщЬАшжБч╗ПхОЖщгОхР╣щЫицЙУуАБцЧецЩТщгОх╣▓я╝МцЙНшГ╜цИРщХ┐х╛ЧцЫ┤хКахЭЪх╝║уАВцЙАф╗ея╝Мх╜Уф╜ащБЗхИ░цМлцКШхТМхЫ░щЪ╛цЧ╢я╝Мф╕НшжБш╜╗цШУцФ╛х╝Гя╝МшжБхЭЪцМБф╕ЛхО╗я╝МчЫ╕ф┐бшЗкх╖▒чЪДшГ╜хКЫхТМц╜ЬхКЫя╝МцЬАч╗Иф╜аф╝ЪцИРф╕║ф╕Ацг╡шМБхгоцИРщХ┐чЪДхдзцаСуАВ\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_gpt(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "524d968f-41da-4f68-beef-a50800944254",
   "metadata": {},
   "source": [
    "**рдзреНрдпрд╛рди рджреЗрдВ:** рдореИрдВрдиреЗ рдЖрдкрд╕реЗ рдирдХрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛ рдерд╛, рдЖрдЧреЗ рдмрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ! рдпрд╣ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдХреЗ рдЙрддреНрддрд░ рдХрд╛ рдкреНрд░рджрд╛рди рдХрд┐рдП рдЧрдП рдирдореВрдирд╛ рдкрд╛рда рдХреА рдЫреЛрдЯреА рдорд╛рддреНрд░рд╛ рд╕реЗ рдХреЛрдИ рд▓реЗрдирд╛-рджреЗрдирд╛ рдирд╣реАрдВ рд╣реИ, рдЬрдмрдХрд┐ рдЪреИрдЯрдЬреАрдкреАрдЯреА рдкреНрд░рджрд╛рди рдХрд┐рдП рдЧрдП рдирдореВрдирд╛ рдореЙрдбрд▓ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд▓рд┐рдЦрдирд╛ рдЬрд╛рд░реА рд░рдЦрддрд╛ рд╣реИ рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдХрд╛ рдПрдХ рдкрддрд▓рд╛ рдЯреБрдХрдбрд╝рд╛ рд╣реИред"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "6bdbe63f",
   "metadata": {},
   "source": [
    "### 2.3 рдлреЛрдХрд╕"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "id": "73948cf1",
   "metadata": {},
   "outputs": [],
   "source": [
    "prod_review_zh = \"\"\"\n",
    "ш┐Щф╕кчЖКчМлхЕмф╗ФцШпцИСч╗Щхе│хД┐чЪДчФЯцЧечд╝чЙйя╝Мхе╣х╛ИхЦЬцмвя╝МхО╗хУкщГ╜х╕жчЭАуАВ\n",
    "хЕмф╗Фх╛Иш╜пя╝Мш╢Еч║зхПпчИ▒я╝МщЭвщГишбицГЕф╣Ях╛ИхТМхЦДуАВф╜ЖцШпчЫ╕цпФф║Оф╗╖щТ▒цЭешп┤я╝М\n",
    "хоГцЬЙчВ╣х░Пя╝МцИСцДЯшзЙхЬихИлчЪДхЬ░цЦ╣чФихРМца╖чЪДф╗╖щТ▒шГ╜ф╣░хИ░цЫ┤хдзчЪДуАВ\n",
    "х┐лщАТцпФщвДцЬЯцПРхЙНф║Жф╕АхдйхИ░ш┤зя╝МцЙАф╗ехЬищАБч╗Щхе│хД┐ф╣ЛхЙНя╝МцИСшЗкх╖▒чОйф║Жф╝ЪуАВ\n",
    "\"\"\"\n",
    "#рдкрд░рд┐рд╡рд╣рди рдкрд░ рдзреНрдпрд╛рди рджреЗрдВ\n",
    "prompt = f\"\"\"\n",
    "ф╜ачЪДф╗╗хКбцШпф╗ОчФ╡хнРхХЖхКбч╜СчлЩф╕КчФЯцИРф╕Аф╕кф║зхУБшпДшо║чЪДчоАчЯнцСШшжБуАВ\n",
    "\n",
    "шп╖хп╣ф╕Йф╕кхПНх╝ХхП╖ф╣ЛщЧ┤чЪДшпДшо║цЦЗцЬмш┐ЫшбМцжВцЛмя╝МцЬАхдЪ30ф╕кшпНц▒Зя╝Мх╣╢ф╕ФшБЪчДжхЬиф║зхУБш┐Рш╛Уф╕КуАВ\n",
    "\n",
    "шпДшо║: ```{prod_review_zh}```\n",
    "\"\"\""
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "id": "f7a151b3",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "шпДшо║: чЖКчМлхЕмф╗ФщАБч╗Щхе│хД┐чФЯцЧечд╝чЙй,хе╣х╛ИхЦЬцмвуАВхЕмф╗Фш╜пуАБхПпчИ▒,щЭвщГишбицГЕхТМхЦДуАВф╜Жх░П,цДЯшзЙхЬихЕ╢ф╗ЦхЬ░цЦ╣чФихРМца╖чЪДф╗╖щТ▒шГ╜ф╣░хИ░цЫ┤хдзуАВх┐лщАТцпФщвДцЬЯцПРхЙНф║Жф╕АхдйхИ░ш┤з,шЗкх╖▒чОйф║Жф╝ЪуАВ\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_glm(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "id": "7d9715b6",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "х┐лщАТцПРхЙНф╕АхдйхИ░ш┤зя╝МчЖКчМлхЕмф╗Фх╛Иш╜пхПпчИ▒я╝Мф╜ЖцЬЙчВ╣х░Пя╝Мф╗╖щТ▒ф╕НхдкхИТчоЧуАВ\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_gpt(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "abe00c2a-f8e6-4531-8077-33b50de7dba7",
   "metadata": {},
   "source": [
    "**рдзреНрдпрд╛рди рджреЗрдВ:** рдЗрд╕реЗ рдкрд░рд┐рд╡рд╣рди рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░рдиреЗ рджреЗрдВред рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдЙрддреНрддрд░ рдХреЗ рдЕрдВрдд рдореЗрдВ рдкрд░рд┐рд╡рд╣рди рдХреА рд╕рд╛рдордЧреНрд░реА рднреА рд░рдЦрддрд╛ рд╣реИ, рдЬрдмрдХрд┐ рдЪреИрдЯрдЬреАрдкреАрдЯреА рдЬреЛрд░ рджрд┐рдЦрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░рд┐рд╡рд╣рди рднрд╛рдЧ рдХреЛ рд╕рд╛рдордиреЗ рд░рдЦрддрд╛ рд╣реИред"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "6b64ec6e",
   "metadata": {},
   "source": [
    "### 2.4 рдореБрдЦреНрдп рдЬрд╛рдирдХрд╛рд░реА рдирд┐рдХрд╛рд▓рдирд╛"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "id": "8244e043",
   "metadata": {},
   "outputs": [],
   "source": [
    "prompt = f\"\"\"\n",
    "ф╜ачЪДф╗╗хКбцШпф╗ОчФ╡хнРхХЖхКбч╜СчлЩф╕КчЪДф║зхУБшпДшо║ф╕нцПРхПЦчЫ╕хЕ│ф┐бцБпуАВ\n",
    "\n",
    "шп╖ф╗Оф╗еф╕Лф╕Йф╕кхПНх╝ХхП╖ф╣ЛщЧ┤чЪДшпДшо║цЦЗцЬмф╕нцПРхПЦф║зхУБш┐Рш╛УчЫ╕хЕ│чЪДф┐бцБпя╝МцЬАхдЪ30ф╕кшпНц▒ЗуАВ\n",
    "\n",
    "шпДшо║: ```{prod_review_zh}```\n",
    "\"\"\""
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "id": "2ee29821",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "ш┐Рш╛УцЧ╢щЧ┤:х┐лщАТцпФщвДцЬЯцПРхЙНф║Жф╕АхдйхИ░ш┤з,чЖКчМлхЕмф╗Фх░Пх╖з,х┐лщАТш┐ЗчиЛхоЙхЕищб║хИйуАВ\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_glm(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "id": "17fa8390",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "х┐лщАТцпФщвДцЬЯцПРхЙНф║Жф╕АхдйхИ░ш┤зуАВ\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_gpt(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "4cc52af4-bf0e-4592-9292-ed238233a195",
   "metadata": {},
   "source": [
    "**рдзреНрдпрд╛рди рджреЗрдВ:** рд╣рд╛рдВ, рд╣рд╛рдВ, рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдФрд░ рдЪреИрдЯрдЬреАрдкреАрдЯреА рджреЛрдиреЛрдВ рд╢рд┐рдкрд┐рдВрдЧ рдЬрд╛рдирдХрд╛рд░реА рдирд┐рдХрд╛рд▓рддреЗ рд╣реИрдВ, рдФрд░ рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдереЛрдбрд╝рд╛ рдЖрдЧреЗ рднреА рдЬрд╛рддрд╛ рд╣реИред"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "e07bb807-0a6e-43e6-b8a8-a597c42a6753",
   "metadata": {},
   "source": [
    "### 2.5 рд╕рд╛рд░рд╛рдВрд╢\n",
    "\n",
    "- рдкрд╛рда рд╕рдордЭ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ, рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдФрд░ рдЪреИрдЯрдЬреАрдкреАрдЯреА рдХреЗ рдмреАрдЪ рдХрд╛ рдЕрдВрддрд░ рдереЛрдбрд╝рд╛ рдмрдбрд╝рд╛ рд╣реИ, рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЪрд░рдгрдмрджреНрдз рдкрд╛рда рдХреЗ рд▓рд┐рдП, рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдЪрд░рдг рджреЗрддрд╛ рд╣реИ рдЪрд╛рд╣реЗ рдкреНрд░рджрд╛рди рдХрд┐рдП рдЧрдП рдкрд╛рда рдореЗрдВ рдЪрд░рдг рд╣реЛрдВ рдпрд╛ рдирд╣реАрдВ, рдпрджрд┐ рдЪрд░рдг рд╣реИрдВ рддреЛ рдЪреИрдЯрдЬреАрдкреАрдЯреА рдЪрд░рдг рджреЗрддрд╛ рд╣реИ рдпрджрд┐ рдХреЛрдИ рдЪрд░рдг рдирд╣реАрдВ рд╣реИрдВ рддреЛ рдЪрд░рдг рди рджреЗрдВред\n",
    "\n",
    "- рдирдореВрдирд╛ рдкрд╛рда рдирд┐рд░рдВрддрд░рддрд╛ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ, рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рд╕реАрдзреЗ рддреМрд░ рдкрд░ рджрд┐рдП рдЧрдП рдХреБрдЫ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЛ рдЫреЛрдбрд╝ рджреЗрддрд╛ рд╣реИ рдФрд░ рдЦреБрдж рдХреЛ рдЬрд╛рдиреЗ рджреЗрддрд╛ рд╣реИ, рдирдХрд▓ рдХрд░рдиреЗ рдФрд░ рдЖрдЧреЗ рдирд┐рдХрд▓рдиреЗ рдХреЗ рд╕рд┐рджреНрдзрд╛рдВрдд рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЪреИрдЯрдЬреАрдкреАрдЯреА рдХреБрдЫ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЙрддреНрддрд░ рджреЗрддрд╛ рд╣реИрдЙрджрд╛рд╣рд░рдг рджрд┐рдП рдЧрдП.\n",
    "\n",
    "- рдореБрдЦреНрдп рд╕реВрдЪрдирд╛ рдирд┐рд╖реНрдХрд░реНрд╖рдг рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдЦрд░рд╛рдм рдкреНрд░рджрд░реНрд╢рди рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЪреИрдЯрдЬреАрдкреАрдЯреА рдореЗрд░реА рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЛ рдкреВрд░рд╛ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8852532a-d1fb-44eb-87d5-8f95aa3e1606",
   "metadata": {},
   "source": [
    "## 3. рд╕рдВрд░рдЪрд┐рдд рдЖрдЙрдЯрдкреБрдЯ"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8a9370dc",
   "metadata": {},
   "source": [
    "### 3.1 рдЙрджрд╛рд╣рд░рдг 1"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "id": "0106c8e4",
   "metadata": {},
   "outputs": [],
   "source": [
    "text = f\"\"\"\n",
    "хЬиф╕Аф╕кш┐╖ф║║чЪДцЭСх║ДщЗМя╝МхЕДхж╣цЭ░хЕЛхТМхРЙх░ФхЗ║хПСхО╗ф╕Аф╕кх▒▒щб╢ф║ХщЗМцЙУц░┤уАВ\\\n",
    "ф╗Цф╗мф╕Аш╛╣хФ▒чЭАцмвф╣РчЪДцнМя╝Мф╕Аш╛╣х╛Аф╕КчИмя╝М\\\n",
    "чД╢шАМф╕Нх╣╕щЩНф╕┤тАФтАФцЭ░хЕЛч╗Кф║Жф╕АхЭЧчЯ│хд┤я╝Мф╗Ох▒▒ф╕Кц╗Ъф║Жф╕ЛцЭея╝МхРЙх░Фч┤зщЪПхЕ╢хРОуАВ\\\n",
    "шЩ╜чД╢чХецЬЙф║ЫцСФф╝дя╝Мф╜Жф╗Цф╗мш┐ШцШпхЫЮхИ░ф║Жц╕йщжичЪДхо╢ф╕нуАВ\\\n",
    "х░╜чобхЗ║ф║Жш┐Щца╖чЪДцДПхдЦя╝Мф╗Цф╗мчЪДхЖТщЩйч▓╛чеЮф╛ЭчД╢ц▓бцЬЙхЗПх╝▒я╝Мч╗зч╗нхЕЕц╗бцДЙцВжхЬ░цОвч┤вуАВ\n",
    "\"\"\"\n",
    "#рдЙрджрд╛рд╣рд░рдг\n",
    "prompt = f\"\"\"\n",
    "1-чФиф╕АхПешпЭцжВцЛмф╕ЛщЭвчФи<>цЛмш╡╖цЭечЪДцЦЗцЬмуАВ\n",
    "2-х░ЖцСШшжБч┐╗шпСцИРшЛ▒шпнуАВ\n",
    "3-хЬишЛ▒шпнцСШшжБф╕нхИЧхЗ║цпПф╕кхРНчз░уАВ\n",
    "4-ш╛УхЗ║ф╕Аф╕к JSON хп╣ш▒бя╝МхЕ╢ф╕нхМЕхРлф╗еф╕ЛщФоя╝ЪEnglish_summaryя╝Мnum_namesуАВ\n",
    "\n",
    "шп╖ф╜┐чФиф╗еф╕Лца╝х╝Пя╝Ъ\n",
    "цЦЗцЬмя╝Ъ<шжБцА╗ч╗УчЪДцЦЗцЬм>\n",
    "цСШшжБя╝Ъ<цСШшжБ>\n",
    "ч┐╗шпСя╝Ъ<цСШшжБчЪДч┐╗шпС>\n",
    "хРНчз░я╝Ъ<шЛ▒шпнцСШшжБф╕нчЪДхРНчз░хИЧшби>\n",
    "ш╛УхЗ║ JSONя╝Ъ<х╕жцЬЙ English_summary хТМ num_names чЪД JSON>\n",
    "\n",
    "Text: <{text}>\n",
    "\"\"\""
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "id": "3c5c885e",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "цСШшжБ:\n",
      "\n",
      "хЬиф╕Аф╕кш┐╖ф║║чЪДцЭСх║ДщЗМ,хЕДхж╣цЭ░хЕЛхТМхРЙх░ФхЗ║хПСхО╗ф╕Аф╕кх▒▒щб╢ф║ХщЗМцЙУц░┤уАВф╗Цф╗мф╕Аш╛╣хФ▒чЭАцмвф╣РчЪДцнМ,ф╕Аш╛╣х╛Аф╕КчИм,чД╢шАМф╕Нх╣╕щЩНф╕┤тАФтАФцЭ░хЕЛч╗Кф║Жф╕АхЭЧчЯ│хд┤,ф╗Ох▒▒ф╕Кц╗Ъф║Жф╕ЛцЭе,хРЙх░Фч┤зщЪПхЕ╢хРОуАВшЩ╜чД╢чХецЬЙф║ЫцСФф╝д,ф╜Жф╗Цф╗мш┐ШцШпхЫЮхИ░ф║Жц╕йщжичЪДхо╢ф╕нуАВх░╜чобхЗ║ф║Жш┐Щца╖чЪДцДПхдЦ,ф╗Цф╗мчЪДхЖТщЩйч▓╛чеЮф╛ЭчД╢ц▓бцЬЙхЗПх╝▒,ч╗зч╗нхЕЕц╗бцДЙцВжхЬ░цОвч┤вуАВ\n",
      "\n",
      "ч┐╗шпС:\n",
      "\n",
      "In a charming village,хЕДхж╣цЭ░хЕЛ andхРЙх░Ф went to aх▒▒щб╢ well to fetch water. They were singing joyfully as they reached the top, but something went wrong -цЭ░хЕЛ stumbled and fell from the mountain, whileхРЙх░Ф followed closely. Although they were slightly injured, they returned home feeling brave andцДЙцВж. Although they encountered such an unexpected situation, their spirit of adventure did not dim, and they continued to explore with joy.\n",
      "\n",
      "хРНчз░:\n",
      "\n",
      "The names in the English summary are: Jack,хРЙх░Ф, and their mother.\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_glm(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "id": "0090af5a",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "цСШшжБя╝ЪхЕДхж╣цЭ░хЕЛхТМхРЙх░ФхЬиш┐╖ф║║чЪДцЭСх║ДщЗМхЖТщЩйя╝Мф╕Нх╣╕цСФф╝дхРОхЫЮхИ░хо╢ф╕ня╝Мф╜Жф╗НчД╢хЕЕц╗бхЖТщЩйч▓╛чеЮуАВ\n",
      "ч┐╗шпСя╝ЪIn a charming village, siblings Jack and Jill set out to fetch water from a mountaintop well. While climbing and singing, Jack trips on a stone and tumbles down the mountain, with Jill following closely behind. Despite some bruises, they make it back home safely. Their adventurous spirit remains undiminished as they continue to explore with joy.\n",
      "хРНчз░я╝ЪJackя╝МJill\n",
      "ш╛УхЗ║ JSONя╝Ъ{\"English_summary\": \"In a charming village, siblings Jack and Jill set out to fetch water from a mountaintop well. While climbing and singing, Jack trips on a stone and tumbles down the mountain, with Jill following closely behind. Despite some bruises, they make it back home safely. Their adventurous spirit remains undiminished as they continue to explore with joy.\", \"num_names\": 2}\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_gpt(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "c3b6f8c4-e649-4dd5-9b1c-46d724f92f7b",
   "metadata": {},
   "source": [
    "**рдзреНрдпрд╛рди рджреЗрдВ:** рдпрд╣ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ ChatGLM рдкреНрд░реЙрдореНрдкреНрдЯ рдореЗрдВ `рдЖрдЙрдЯрдкреБрдЯ json рдСрдмреНрдЬреЗрдХреНрдЯ` рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрдирджреЗрдЦрд╛ рдХрд░ рджреЗрддрд╛ рд╣реИ, рдФрд░ рдЗрд╕ рдЖрдЙрдЯрдкреБрдЯ рдХрд╛ рд╕рд╛рд░рд╛рдВрд╢ рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рджреЛрд╣рд░рд╛рдиреЗ рдЬреИрд╕рд╛ рд╣реИ, рдФрд░ рдХреБрдЫ рдЪреАрдиреА рдЕрдиреБрд╡рд╛рдж рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрдиреБрд╡рд╛рджрд┐рдд рдирд╣реАрдВ рд╣реИрдВ ."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "edd7c59f",
   "metadata": {},
   "source": [
    "### 3.2 рдЧреНрд░рд╛рд╣рдХ рд╕рдореАрдХреНрд╖рд╛рдУрдВ рд╕реЗ рд╕рдВрд░рдЪрд┐рдд рдЬрд╛рдирдХрд╛рд░реА рдирд┐рдХрд╛рд▓рдирд╛"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "id": "e6372802",
   "metadata": {},
   "outputs": [],
   "source": [
    "#ф╕нцЦЗ\n",
    "lamp_review_zh = \"\"\"\n",
    "цИСщЬАшжБф╕АчЫПц╝Вф║очЪДхНзходчБпя╝Мш┐Щцм╛чБпхЕ╖цЬЙщвЭхдЦчЪДхВичЙйхКЯшГ╜я╝Мф╗╖ца╝ф╣Яф╕НчоЧхдкщлШуАВ\\\n",
    "цИСх╛Их┐лх░▒цФ╢хИ░ф║ЖхоГуАВхЬиш┐Рш╛Уш┐ЗчиЛф╕ня╝МцИСф╗мчЪДчБпч╗│цЦнф║Жя╝Мф╜ЖцШпхЕмхП╕х╛Иф╣РцДПхпДщАБф║Жф╕Аф╕кцЦ░чЪДуАВ\\\n",
    "хЗахдйхРОх░▒цФ╢хИ░ф║ЖуАВш┐Щцм╛чБпх╛Ихо╣цШУч╗ДшгЕуАВцИСхПСчО░х░Сф║Жф╕Аф╕кщЫ╢ф╗╢я╝Мф║ОцШпшБФч│╗ф║Жф╗Цф╗мчЪДховцЬНя╝Мф╗Цф╗мх╛Их┐лх░▒ч╗ЩцИСхпДцЭеф║Жч╝║хд▒чЪДщЫ╢ф╗╢я╝Б\\\n",
    "хЬицИСчЬЛцЭея╝МLumina цШпф╕Ахо╢щЭЮх╕╕хЕ│х┐Гщб╛ховхТМф║зхУБчЪДф╝ШчзАхЕмхП╕я╝Б\n",
    "\"\"\"\n",
    "#ф╕нцЦЗ\n",
    "prompt = f\"\"\"\n",
    "ф╗ОшпДшо║цЦЗцЬмф╕ншпЖхИлф╗еф╕Лщб╣чЫоя╝Ъ\n",
    "- шпДшо║шАЕш┤нф╣░чЪДчЙйхУБ\n",
    "- хИ╢щАашпечЙйхУБчЪДхЕмхП╕\n",
    "\n",
    "шпДшо║цЦЗцЬмчФиф╕Йф╕кхПНх╝ХхП╖хИЖщЪФуАВх░Жф╜ачЪДхУНх║Фца╝х╝ПхМЦф╕║ф╗е тАЬчЙйхУБтАЭ хТМ тАЬхУБчЙМтАЭ ф╕║щФочЪД JSON хп╣ш▒буАВ\n",
    "хжВцЮЬф┐бцБпф╕НхнШхЬия╝Мшп╖ф╜┐чФи тАЬцЬкчЯетАЭ ф╜Ьф╕║хА╝уАВ\n",
    "шойф╜ачЪДхЫЮх║Фх░╜хПпшГ╜чоАчЯнуАВ\n",
    "  \n",
    "шпДшо║цЦЗцЬм: ```{lamp_review_zh}```\n",
    "\"\"\""
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "id": "fd30e290",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "чЙйхУБ:хНзходчБп\n",
      "хУБчЙМ:Lumina\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_glm(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "id": "ef715b71",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "{\n",
      "  \"чЙйхУБ\": \"хНзходчБп\",\n",
      "  \"хУБчЙМ\": \"Lumina\"\n",
      "}\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_gpt(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "c9bd113e-2ffb-4828-a03a-a7d1c78b82d8",
   "metadata": {},
   "source": [
    "**рдиреЛрдЯ:** рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдиреЗ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдЬрд╛рдирдХрд╛рд░реА рдирд┐рдХрд╛рд▓реА! рдореМрдЦрд┐рдХ рд░реВрдк рд╕реЗ рдПрдХ рдмрд╛рд░ рдкреНрд░рд╢рдВрд╕рд╛ рдХреА рдЧрдИ, рд▓реЗрдХрд┐рди рдЬреЗрд╕рди рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЖрдЙрдЯрдкреБрдЯ рдирд╣реАрдВ рджрд┐рдпрд╛ рдЧрдпрд╛, рдЪреИрдЯрдЬреАрдкреАрдЯреА рдиреЗ рдПрдХ рдмрд╛рд░ рдЕрдЪреНрдЫрд╛ рдХрд╛рдо рдХрд┐рдпрд╛, рдПрдХ рдмрд╛рд░ рдкреНрд░рд╢рдВрд╕рд╛ рдХреА рдЧрдИред"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "10edd035",
   "metadata": {},
   "source": [
    "### 3.3 рдПрдХ рд╕рдордп рдореЗрдВ рдХрдИ рдЬрд╛рдирдХрд╛рд░реА рдирд┐рдХрд╛рд▓реЗрдВ"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "id": "ec787579",
   "metadata": {},
   "outputs": [],
   "source": [
    "#ф╕нцЦЗ\n",
    "prompt = f\"\"\"\n",
    "ф╗ОшпДшо║цЦЗцЬмф╕ншпЖхИлф╗еф╕Лщб╣чЫоя╝Ъ\n",
    "- цГЕч╗кя╝ИцнгщЭвцИЦш┤ЯщЭвя╝Й\n",
    "- хобчи┐ф║║цШпхРжшбиш╛╛ф║ЖцДдцАТя╝Яя╝ИцШпцИЦхРжя╝Й\n",
    "- шпДшо║шАЕш┤нф╣░чЪДчЙйхУБ\n",
    "- хИ╢щАашпечЙйхУБчЪДхЕмхП╕\n",
    "\n",
    "шпДшо║чФиф╕Йф╕кхПНх╝ХхП╖хИЖщЪФуАВх░ЖцВичЪДхУНх║Фца╝х╝ПхМЦф╕║ JSON хп╣ш▒бя╝Мф╗е тАЬSentimentтАЭуАБтАЬAngerтАЭуАБтАЬItemтАЭ хТМ тАЬBrandтАЭ ф╜Ьф╕║щФоуАВ\n",
    "хжВцЮЬф┐бцБпф╕НхнШхЬия╝Мшп╖ф╜┐чФи тАЬцЬкчЯетАЭ ф╜Ьф╕║хА╝уАВ\n",
    "шойф╜ачЪДхЫЮх║Фх░╜хПпшГ╜чоАчЯнуАВ\n",
    "х░Ж Anger хА╝ца╝х╝ПхМЦф╕║х╕Гх░ФхА╝уАВ\n",
    "\n",
    "шпДшо║цЦЗцЬм: ```{lamp_review_zh}```\n",
    "\"\"\""
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "id": "c008c483",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Sentiment: цнгщЭв\n",
      "Anger: хРж\n",
      "Item: хНзходчБп\n",
      "Brand:mina\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_glm(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "id": "b5f91d12",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "{\n",
      "  \"Sentiment\": \"цнгщЭв\",\n",
      "  \"Anger\": false,\n",
      "  \"Item\": \"хНзходчБп\",\n",
      "  \"Brand\": \"Lumina\"\n",
      "}\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_gpt(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "aff470ae-7110-4e97-8e8b-45835af17df4",
   "metadata": {},
   "source": [
    "**рдзреНрдпрд╛рди рджреЗрдВ:** ChatGLM рдмрд┐рдирд╛ рдХрд┐рд╕реА рд╕рдорд╕реНрдпрд╛ рдХреЗ рдЬрд╛рдирдХрд╛рд░реА рдирд┐рдХрд╛рд▓рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА рдЗрд╕реЗ json рдСрдмреНрдЬреЗрдХреНрдЯ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ рдФрд░ `Anger` рдмреВрд▓рд┐рдпрди рдорд╛рди рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИ, рдЬреЛ рдПрдХ рдХрдЯреМрддреА рд╣реИред"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "163f5442-9b64-4e0a-a370-b34f51067c3a",
   "metadata": {},
   "source": [
    "### 3.4 рд╕рд╛рд░рд╛рдВрд╢\n",
    "\n",
    "рдЬрд╛рдирдХрд╛рд░реА рдирд┐рдХрд╛рд▓реЗрдВ + рд╕рдВрд░рдЪрд┐рдд рдЖрдЙрдЯрдкреБрдЯ, рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдореВрд▓ рд░реВрдк рд╕реЗ рдХреЗрд╡рд▓ рдЬрд╛рдирдХрд╛рд░реА рдирд┐рдХрд╛рд▓ рд╕рдХрддрд╛ рд╣реИ, рдФрд░ рдЖрдЙрдЯрдкреБрдЯ рдЬреЗрд╕рди рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рд▓рд╛рдЧреВ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред рдореБрдЭреЗ рдЖрд╢реНрдЪрд░реНрдп рд╣реИ рдХрд┐ рдЪреИрдЯрдЬреАрдПрд▓рдПрдо -130рдмреА рд╕рдВрд╕реНрдХрд░рдг рдХреИрд╕рд╛ рд╣реИ, рдЖрдЗрдП ~"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "d0085689-c1f1-4cfa-ae1c-714731c02a3a",
   "metadata": {},
   "source": [
    "## 4. рдЕрдиреБрд╡рд╛рдж рдПрд╡рдВ рд░реВрдкрд╛рдВрддрд░рдг"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "ff6b817b",
   "metadata": {},
   "source": [
    "### 4.1 рдмрд╣реБрднрд╛рд╖реА рдЕрдиреБрд╡рд╛рдж"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "id": "d1db0ebd",
   "metadata": {},
   "outputs": [],
   "source": [
    "prompt = f\"\"\"\n",
    "шп╖х░Жф╗еф╕ЛцЦЗцЬмхИЖхИлч┐╗шпСцИРф╕нцЦЗуАБшЛ▒цЦЗуАБц│ХшпнхТМше┐чПнчЙЩшпн: \n",
    "```I want to order a basketball.```\n",
    "\"\"\""
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "id": "df001eb3",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "```цИСцГ│шовш┤нф╕АцККчпочРГуАВ```\n",
      "\n",
      "ф╕нцЦЗ:цИСцГ│шовш┤нф╕АцККчпочРГуАВ\n",
      "шЛ▒цЦЗ:I want to order a basketball.\n",
      "ц│Хшпн:Je veux orderir un basketball.\n",
      "ше┐чПнчЙЩшпн:Vuelgo a intentar orderar un basketball.\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_glm(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "id": "24b29ac8",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "ф╕нцЦЗя╝ЪцИСцГ│шовш┤нф╕Аф╕кчпочРГуАВ\n",
      "шЛ▒цЦЗя╝ЪI want to order a basketball.\n",
      "ц│Хшпня╝ЪJe veux commander un ballon de basket.\n",
      "ше┐чПнчЙЩшпня╝ЪQuiero pedir una pelota de baloncesto.\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_gpt(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "6422cb54-6153-4bf5-bdbe-c87d0780cfb6",
   "metadata": {},
   "source": [
    "**рдиреЛрдЯ:** рдореЗрд░реЗ рдкрд╛рд╕ рд╕реАрдорд┐рдд рдЬреНрдЮрд╛рди рд╣реИ, рдФрд░ Youdao Translate рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдлреНрд░реЗрдВрдЪ рдФрд░ рд╕реНрдкреИрдирд┐рд╢ рдЕрдиреБрд╡рд╛рджреЛрдВ рдХреА рдЬрд╛рдБрдЪ рдХреА рдЧрдИ рдФрд░ ChatGPT рдХреЗ рджреЛрдиреЛрдВ рдЕрдиреБрд╡рд╛рдж рд╕рд╣реА рд╣реИрдВ!"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "5aeb18fc",
   "metadata": {},
   "source": [
    "### 4.2 рдЕрдиреБрд╡рд╛рдж + рдФрдкрдЪрд╛рд░рд┐рдХ рд╕реНрд╡рд░"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "id": "aac408fb",
   "metadata": {},
   "outputs": [],
   "source": [
    "prompt = f\"\"\"\n",
    "шп╖х░Жф╗еф╕ЛцЦЗцЬмч┐╗шпСцИРф╕нцЦЗя╝МхИЖхИлх▒Хчд║цИРцнгх╝Пф╕ОщЭЮцнгх╝Пф╕дчзНшпнц░Ф: \n",
    "```Would you like to order a pillow?```\n",
    "\"\"\""
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "id": "0a760260",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "``` Would you like to order a pillow?```\n",
      "\n",
      "цнгх╝Пшпнц░Ф:\n",
      "\n",
      "цИСцГ│шовш┤нф╕Ах╝ацЮХхд┤уАВ\n",
      "\n",
      "щЭЮцнгх╝Пшпнц░Ф:\n",
      "\n",
      "хШ┐,ф╜ацГ│щвДшовф╕Ах╝ацЮХхд┤хРЧ?\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_glm(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "id": "729355da",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "цнгх╝Пшпнц░Фя╝Ъшп╖щЧоцВищЬАшжБшовш┤нцЮХхд┤хРЧя╝Я\n",
      "щЭЮцнгх╝Пшпнц░Фя╝Ъф╜ашжБф╕НшжБшовф╕Аф╕кцЮХхд┤я╝Я\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_gpt(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "dc886170-3b7d-484a-b79c-e7cad453109d",
   "metadata": {},
   "source": [
    "**рдиреЛрдЯ:** рджреЛрдиреЛрдВ рдЯреЛрди, рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдФрд░ рдЪреИрдЯрдЬреАрдкреАрдЯреА, рдиреЗ рдЕрдЪреНрдЫреЗ рдЙрддреНрддрд░ рджрд┐рдП рдФрд░ рджреЛрдиреЛрдВ рдХреЛ рдЕрддрд┐рд░рд┐рдХреНрдд рдЕрдВрдХ рдкреНрд░рд╛рдкреНрдд рд╣реБрдПред"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "a07fd232-34fa-4c04-80db-ac6698740f20",
   "metadata": {},
   "source": [
    "### 4.3 рд╕рд╛рд░рд╛рдВрд╢\n",
    "\n",
    "рдЕрдиреБрд╡рд╛рдж рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ, ChatGLM рд▓рдЧрднрдЧ ChatGPT рдХреЗ рд╕рдорд╛рди рд╣реИ, рдФрд░ рдЗрд╕реЗ рдереЛрдбрд╝рд╛ рдмреЗрд╣рддрд░ рднреА рдХрд╣рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЕрдиреБрд╡рд╛рдж рдХреЗ рд▓рд┐рдП ChatGLM-int4 рдХреЛ рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рддреИрдирд╛рдд рдХрд░рдирд╛ рдмреБрд░рд╛ рдирд╣реАрдВ рд╣реИ !"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "5d5a0225",
   "metadata": {},
   "source": [
    "##5. рддрд╛рд░реНрдХрд┐рдХ рддрд░реНрдХ"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "id": "5cae8d70",
   "metadata": {},
   "outputs": [],
   "source": [
    "prompt = f\"\"\"\n",
    "шп╖хИдцЦнхнжчФЯчЪДшзгхЖ│цЦ╣цбИцШпхРжцнгчбоя╝Мшп╖щАЪш┐ЗхжВф╕ЛцнещкдшзгхЖ│ш┐Щф╕кщЧощвШя╝Ъ\n",
    "\n",
    "цнещкдя╝Ъ\n",
    "\n",
    "    щжЦхЕИя╝МшЗкх╖▒шзгхЖ│щЧощвШуАВ\n",
    "    чД╢хРОх░Жф╜ачЪДшзгхЖ│цЦ╣цбИф╕ОхнжчФЯчЪДшзгхЖ│цЦ╣цбИш┐ЫшбМцпФш╛Гя╝Мх╣╢шпДф╝░хнжчФЯчЪДшзгхЖ│цЦ╣цбИцШпхРжцнгчбоуАВхЬишЗкх╖▒хоМцИРщЧощвШф╣ЛхЙНя╝Мшп╖хЛ┐хЖ│хоЪхнжчФЯчЪДшзгхЖ│цЦ╣цбИцШпхРжцнгчбоуАВ\n",
    "\n",
    "ф╜┐чФиф╗еф╕Лца╝х╝Пя╝Ъ\n",
    "\n",
    "    щЧощвШя╝ЪщЧощвШцЦЗцЬм\n",
    "    хнжчФЯчЪДшзгхЖ│цЦ╣цбИя╝ЪхнжчФЯчЪДшзгхЖ│цЦ╣цбИцЦЗцЬм\n",
    "    хоЮщЩЕшзгхЖ│цЦ╣цбИхТМцнещкдя╝ЪхоЮщЩЕшзгхЖ│цЦ╣цбИхТМцнещкдцЦЗцЬм\n",
    "    хнжчФЯчЪДшзгхЖ│цЦ╣цбИхТМхоЮщЩЕшзгхЖ│цЦ╣цбИцШпхРжчЫ╕хРМя╝ЪцШпцИЦхРж\n",
    "    хнжчФЯчЪДцИРч╗йя╝ЪцнгчбоцИЦф╕Нцнгчбо\n",
    "\n",
    "щЧощвШя╝Ъ\n",
    "\n",
    "    цИСцнгхЬих╗║щАаф╕Аф╕кхдкщШ│шГ╜хПСчФ╡члЩя╝МщЬАшжБх╕охКйшобчоЧш┤вхКбуАВ \n",
    "    - хЬЯхЬ░ш┤╣чФиф╕║цпПх╣│цЦ╣шЛ▒х░║100ч╛ОхЕГ\n",
    "    - цИСхПпф╗еф╗ецпПх╣│цЦ╣шЛ▒х░║250ч╛ОхЕГчЪДф╗╖ца╝ш┤нф╣░хдкщШ│шГ╜чФ╡ц▒ацЭ┐\n",
    "    - цИСх╖▓ч╗Пш░ИхИдхе╜ф║Жч╗┤цКдхРИхРМя╝МцпПх╣┤щЬАшжБцФпф╗ШхЫ║хоЪчЪД10ф╕Зч╛ОхЕГя╝Мх╣╢щвЭхдЦцФпф╗ШцпПх╣│цЦ╣шЛ▒х░║10ч╛ОхЕГ\n",
    "    ф╜Ьф╕║х╣│цЦ╣шЛ▒х░║цХ░чЪДхЗ╜цХ░я╝МщжЦх╣┤ш┐РшРечЪДцА╗ш┤╣чФицШпхдЪх░СуАВ\n",
    "\n",
    "хнжчФЯчЪДшзгхЖ│цЦ╣цбИя╝Ъ\n",
    "\n",
    "    шо╛xф╕║хПСчФ╡члЩчЪДхдзх░Пя╝МхНХф╜Нф╕║х╣│цЦ╣шЛ▒х░║уАВ\n",
    "    ш┤╣чФия╝Ъ\n",
    "    1. хЬЯхЬ░ш┤╣чФия╝Ъ100x\n",
    "    2. хдкщШ│шГ╜чФ╡ц▒ацЭ┐ш┤╣чФия╝Ъ250x\n",
    "    3. ч╗┤цКдш┤╣чФия╝Ъ100,000+100x\n",
    "    цА╗ш┤╣чФия╝Ъ100x+250x+100,000+100x=450x+100,000\n",
    "\n",
    "хоЮщЩЕшзгхЖ│цЦ╣цбИхТМцнещкдя╝Ъ\n",
    "\"\"\""
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 38,
   "id": "4b5d7427",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "хоЮщЩЕшзгхЖ│цЦ╣цбИхТМцнещкдф╕ОхнжчФЯчЪДшзгхЖ│цЦ╣цбИчЫ╕хРМуАВ\n",
      "\n",
      "хнжчФЯчЪДшзгхЖ│цЦ╣цбИхПпф╗ечоАхМЦф╕║:\n",
      "\n",
      "цА╗ш┤╣чФи = хЬЯхЬ░ш┤╣чФи + хдкщШ│шГ╜чФ╡ц▒ацЭ┐ш┤╣чФи + ч╗┤цКдш┤╣чФи\n",
      "\n",
      "ца╣цНощвШчЫоф╕нчЪДцХ░цНо,хЬЯхЬ░ш┤╣чФиф╕║цпПх╣│цЦ╣шЛ▒х░║100ч╛ОхЕГ,хдкщШ│шГ╜чФ╡ц▒ацЭ┐ш┤╣чФиф╕║цпПх╣│цЦ╣шЛ▒х░║250ч╛ОхЕГ,ч╗┤цКдш┤╣чФиф╕║цпПх╣┤10ф╕Зч╛ОхЕГхТМцпПх╣│цЦ╣шЛ▒х░║10ч╛ОхЕГ,хЫацнд:\n",
      "\n",
      "цА╗ш┤╣чФи = 100x + 250x + 100,000 + 10x\n",
      "\n",
      "х░ЖxчЪДшбиш╛╛х╝Пф╗гхЕецА╗ш┤╣чФихЕмх╝Пф╕н,х╛ЧхИ░:\n",
      "\n",
      "цА╗ш┤╣чФи = 100x + 250x + 100,000 + 10x = 450x + 100,000\n",
      "\n",
      "хЫацнд,хнжчФЯчЪДшзгхЖ│цЦ╣цбИхТМхоЮщЩЕшзгхЖ│цЦ╣цбИчЫ╕хРМуАВ\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_glm(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "id": "71c23747",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "цнгчбочЪДшзгхЖ│цЦ╣цбИхТМцнещкдя╝Ъ\n",
      "    1. шобчоЧхЬЯхЬ░ш┤╣чФия╝Ъ100ч╛ОхЕГ/х╣│цЦ╣шЛ▒х░║ * xх╣│цЦ╣шЛ▒х░║ = 100xч╛ОхЕГ\n",
      "    2. шобчоЧхдкщШ│шГ╜чФ╡ц▒ацЭ┐ш┤╣чФия╝Ъ250ч╛ОхЕГ/х╣│цЦ╣шЛ▒х░║ * xх╣│цЦ╣шЛ▒х░║ = 250xч╛ОхЕГ\n",
      "    3. шобчоЧч╗┤цКдш┤╣чФия╝Ъ10ф╕Зч╛ОхЕГ + 10ч╛ОхЕГ/х╣│цЦ╣шЛ▒х░║ * xх╣│цЦ╣шЛ▒х░║ = 10ф╕Зч╛ОхЕГ + 10xч╛ОхЕГ\n",
      "    4. шобчоЧцА╗ш┤╣чФия╝Ъ100xч╛ОхЕГ + 250xч╛ОхЕГ + 10ф╕Зч╛ОхЕГ + 10xч╛ОхЕГ = 360x + 10ф╕Зч╛ОхЕГ\n",
      "\n",
      "хнжчФЯчЪДшзгхЖ│цЦ╣цбИхТМхоЮщЩЕшзгхЖ│цЦ╣цбИцШпхРжчЫ╕хРМя╝ЪхРж\n",
      "\n",
      "хнжчФЯчЪДцИРч╗йя╝Ъф╕Нцнгчбо\n"
     ]
    }
   ],
   "source": [
    "response = get_completion_gpt(prompt)\n",
    "print(response)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "2a313cd9-647e-4639-aa06-e28dd2df7827",
   "metadata": {},
   "source": [
    "**рдзреНрдпрд╛рди рджреЗрдВ:** рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЫрд╛рддреНрд░ рдХрд╛ рд╕рдорд╛рдзрд╛рди рдЧрд▓рдд рд╣реИред рд░рдЦрд░рдЦрд╛рд╡ рд▓рд╛рдЧрдд $10 рдкреНрд░рддрд┐ рд╡рд░реНрдЧ рдлреБрдЯ рд╣реИред рдЫрд╛рддреНрд░ рдиреЗ рдЧрд▓рддреА рд╕реЗ рдЕрдкрдиреЗ рд╕рдорд╛рдзрд╛рди рдореЗрдВ рдЗрд╕реЗ $100 рд▓рд┐рдЦ рджрд┐рдпрд╛ред рдЪреИрдЯрдЬреАрдПрд▓рдПрдо рдиреЗ рдпрд╣ рдЧрд▓рддреА рдкрд╛рдИ, рд▓реЗрдХрд┐рди рдЙрд╕рдиреЗ рдЫрд╛рддреНрд░ рдХреЗ рд╕рдорд╛рдзрд╛рди рдореЗрдВ рддреНрд░реБрдЯрд┐ рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, ChatGPT рдиреЗ рддреНрд░реБрдЯрд┐ рдкрд╛рдИ рдФрд░ рд╕рд╣реА рд╕рдорд╛рдзрд╛рди рджрд┐рдпрд╛ред"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.8"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
